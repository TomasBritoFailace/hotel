(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{de12:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h5",{attrs:{align:"center"}},[e._v("Usuarios")]),t("verUsuarios"),t("h5",{attrs:{align:"center"}},[e._v("Reservas")]),t("verReservas")],1)},s=[],n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"q-pa-md"},[t("q-table",{attrs:{title:"Usuarios",data:e.data,columns:e.columns,selection:"single",selected:e.selected},on:{"update:selected":function(a){e.selected=a}}})],1)},i=[],c=t("a34a"),l=t.n(c),o=(t("96cf"),t("c973")),u=t.n(o),d=t("fc1b"),m={name:"verUsuarios",beforeCreate:function(){this.$store.getters["example/isAdmin"]||this.$router.push("/")},created:function(){this.buscarUsuarios()},data:function(){return{name:"juan",selected:[],data:[],usuario:{},columns:[{name:"usuario",required:!0,label:"Usuario",align:"left",field:"nombre",format:function(e){return"".concat(e)},sortable:!0},{name:"ID",align:"center",label:"ID",field:"idUsuario",sortable:!0},{name:"email",align:"center",label:"Email",field:"email",sortable:!0},{name:"celular",align:"center",label:"Celular",field:"celular",sortable:!0}]}},methods:{buscarUsuarios:function(){var e=this;return u()(l.a.mark((function a(){var t;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].collection("usuarios").get();case 3:t=a.sent,t.forEach((function(a){var t={email:a.data().email,celular:a.data().celular,idUsuario:a.id,nombre:a.data().nombre};e.data.push(t)})),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0);case 10:return a.prev=10,console.log("busqueda ok"),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[0,7,10,13]])})))()}}},v=m,f=t("2877"),b=t("eaac"),p=t("eebe"),h=t.n(p),g=Object(f["a"])(v,n,i,!1,null,null,null),q=g.exports;h()(g,"components",{QTable:b["a"]});var w=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"q-pa-md"},[t("q-table",{attrs:{title:"Reservas",data:e.data,columns:e.columns,selection:"single",selected:e.selected},on:{"update:selected":function(a){e.selected=a}}}),t("q-btn",{staticClass:" q-mt-md",attrs:{label:"Eliminar reserva",color:"primary"},on:{click:e.borrarReserva}}),""!=this.userReserva?t("div",[t("q-btn",{staticClass:" q-mt-md",attrs:{label:"Ver datos del usuario",color:"primary"},on:{click:function(a){e.medium=!0}}}),t("q-dialog",{model:{value:e.medium,callback:function(a){e.medium=a},expression:"medium"}},[t("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("Datos")])]),t("q-card-section",{staticClass:"q-pt-none"},[e._v("\n           Nombre de usuario: "+e._s(this.userReserva.nombre)+"\n          ")]),t("q-card-section",{staticClass:"q-pt-none"},[e._v("\n           ID: "+e._s(this.userReserva.idUsuario)+"\n          ")]),t("q-card-section",{staticClass:"q-pt-none"},[e._v("\n           Email: "+e._s(this.userReserva.email)+"\n          ")]),t("q-card-section",{staticClass:"q-pt-none"},[e._v("\n           Celular: "+e._s(this.userReserva.celular)+"\n          ")]),t("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar"}})],1)],1)],1)],1):e._e()],1)},x=[],C={name:"verReservas",beforeCreate:function(){this.$store.getters["example/isAdmin"]||this.$router.push("/")},created:function(){this.buscarReservas()},data:function(){return{userReserva:"",medium:!1,selected:[],data:[],columns:[{name:"Habitacion",required:!0,label:"Habitacion",align:"left",field:"tipoHabitacion",format:function(e){return"".concat(e)},sortable:!0},{name:"entrada",align:"center",label:"Fecha de entrada",field:"fechaEntrada",sortable:!0},{name:"salida",align:"center",label:"Fecha de salida",field:"fechaSalida",sortable:!0},{name:"ID",align:"center",label:"Id",field:"id",sortable:!0},{name:"IdUsuario",align:"center",label:"ID de usuario",field:"idUsuario",sortable:!0}]}},watch:{selected:function(){this.buscarUsuario()}},methods:{buscarReservas:function(){var e=this;return u()(l.a.mark((function a(){var t;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].collection("reservas").get();case 3:t=a.sent,t.forEach((function(a){var t={id:a.id,fechaEntrada:a.data().fechaEntrada,fechaSalida:a.data().fechaSalida,idUsuario:a.data().idUsuario,tipoHabitacion:a.data().tipoHabitacion};e.data.push(t)})),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},borrarReserva:function(){var e=this;return u()(l.a.mark((function a(){var t;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.selected[0].id,a.next=3,d["a"].collection("reservas").doc(t).delete().then((function(){e.data=[],e.buscarReservas()}));case 3:case"end":return a.stop()}}),a)})))()},buscarUsuario:function(){var e=this;return u()(l.a.mark((function a(){var t,r;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.selected[0].idUsuario,a.prev=1,a.next=4,d["a"].collection("usuarios").doc(t).get();case 4:r=a.sent,e.userReserva=r.data(),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()}}},U=C,_=t("9c40"),R=t("24e8"),k=t("f09f"),E=t("a370"),D=t("4b7e"),I=t("7f67"),Q=Object(f["a"])(U,w,x,!1,null,null,null),$=Q.exports;h()(Q,"components",{QTable:b["a"],QBtn:_["a"],QDialog:R["a"],QCard:k["a"],QCardSection:E["a"],QCardActions:D["a"]}),h()(Q,"directives",{ClosePopup:I["a"]});var H={name:"admin",components:{verUsuarios:q,verReservas:$}},S=H,j=Object(f["a"])(S,r,s,!1,null,null,null);a["default"]=j.exports}}]);